<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AZUBI.OS â€“ Erfolg</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <div class="brand">
        <span class="dot"></span>
        <span>AZUBI.OS</span>
        <span class="chip"><b>Trial</b> aktiv</span>
      </div>
      <nav class="nav">
        <a href="index.html">Home</a>
        <a href="cart.html">Warenkorb <span class="cart-badge" id="cartCount">0</span></a>
      </nav>
      <a class="btn btn-primary" href="index.html">ZurÃ¼ck</a>
    </div>

    <section class="card section">
      <h2>ðŸŽ‰ Testversion erfolgreich gestartet</h2>
      <p>Das ist eine Demo-BestÃ¤tigung.</p>

      <div class="tile" style="border-radius:18px;">
        <div style="font-weight:950; margin-bottom:8px;">Deine Daten</div>
        <div id="orderInfo" style="color:rgba(255,255,255,.78); line-height:1.55;"></div>
      </div>

      <div class="tile" style="border-radius:18px; margin-top:12px;">
        <div style="font-weight:950; margin-bottom:8px;">Trial Key</div>
        <div id="trialKey" style="font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
                                 font-size: 16px; letter-spacing: .8px;"></div>
        <p class="mini">Key wurde per E-Mail versendet.</p>
      </div>

      <div class="cta" style="margin-top:14px;">
        <a class="btn btn-primary" href="index.html">Weiter stÃ¶bern</a>
        <a class="btn" href="cart.html">Warenkorb</a>
      </div>
    </section>

    <div class="footer">Â© 2026 â€“ AZUBI.OS Pink Mode forever.</div>
  </div>

  <script type="module">
    import { store, updateCartBadge, bindGlobalNav, $ } from "./shop.js";

    bindGlobalNav();
    updateCartBadge();

    const params = new URLSearchParams(location.search);
    const id = params.get("order");

    const orders = store.getOrders();
    const order = orders.find(o => o.id === id) || orders[0];

    const info = document.getElementById("orderInfo");
    const key = document.getElementById("trialKey");

    if (!order) {
      info.textContent = "Keine Order gefunden. (localStorage leer)";
      key.textContent = "â€”";
    } else {
      info.innerHTML =
        `<b>Order:</b> ${order.id}<br>` +
        `<b>Name:</b> ${order.billing?.name || "â€”"}<br>` +
        `<b>E-Mail:</b> ${order.billing?.email || "â€”"}<br>` +
        `<b>Trial:</b> ${order.trialDays} Tage â€¢ <b>Heute:</b> 0,00 â‚¬`;
      key.textContent = order.trialKey || "â€”";
    }
  </script>
</body>
</html>
